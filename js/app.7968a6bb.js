(()=>{"use strict";var e={4829:(e,r,o)=>{o(752),o(3964),o(429),o(6409);var n=o(9242),t=o(3396);function a(e,r){var o=(0,t.up)("router-view");return(0,t.wg)(),(0,t.j4)(o)}var l=o(89);const i={},c=(0,l.Z)(i,[["render",a],["__scopeId","data-v-df82a0fa"]]),u=c;var s=o(2483),d={class:"home"};function p(e,r,o,n,a,l){var i=(0,t.up)("GameSetting");return(0,t.wg)(),(0,t.iD)("div",d,[(0,t.Wm)(i)])}var g=o(2833),f=o(3087),v=o(9110),b=o(6720),y=o(3336),m=(o(1919),o(228),o(6034),o(739),o(6520)),h={class:"wrap position-relative"};function w(e,r,o,n,a,l){var i=(0,t.up)("MainHeader"),c=(0,t.up)("SettingPanel"),u=(0,t.up)("FooterCopyright"),s=(0,t.up)("CustomAlert");return(0,t.wg)(),(0,t.iD)("div",h,[(0,t.Wm)(i),(0,t.Wm)(c,{onSubmit:e.submitSetting,onAlert:e.popUpAlertModal},null,8,["onSubmit","onAlert"]),(0,t.Wm)(u,{class:"position-absolute bottom-0 start-0"}),(0,t.Wm)(s,{show:e.modalShow,"onUpdate:modalShow":r[0]||(r[0]=function(r){return e.modalShow=r})},null,8,["show"])])}o(24),o(560);var S=o(4870),k=o(65);const _=o.p+"img/logo.edaddc0d.svg";var C={class:"banner-wrap"},x=(0,t._)("div",{class:"mx-1280"},[(0,t._)("div",{class:"banner-img-wrap"},[(0,t._)("img",{src:_})])],-1),D=[x];function R(e,r,o,n,a,l){return(0,t.wg)(),(0,t.iD)("div",C,D)}const Z=(0,t.aZ)({name:"MainHeader"}),M=(0,l.Z)(Z,[["render",R]]),j=M;var B=o(7139),G={class:"setting-wrap mx-1280 flex-grow-1"},A=(0,t._)("h1",{class:"title-style text-start mb-6"},"創建遊戲",-1),q={class:"d-flex justify-content-between fs-20"},H={class:"d-flex align-items-center mb-4"},P={class:"d-flex align-items-center"},F=(0,t._)("p",{class:"mb-0 text-nowrap fw-bold"},"卡片牌局：",-1),z={class:"count-wrap"},I={class:"mb-0 d-inline-block fw-bold"},O={class:"fw-normal"},T={key:0,class:"fw-bold fs-red ml-2"},U={class:"d-flex flex-wrap group-card-wrap flex-grow-1"},E={class:"d-flex justify-content-center"};function W(e,r,o,n,a,l){var i=(0,t.up)("BFormSelect"),c=(0,t.up)("GroupCardPanel");return(0,t.wg)(),(0,t.iD)("div",G,[A,(0,t._)("div",q,[(0,t._)("div",H,[(0,t._)("div",P,[F,(0,t.Wm)(i,{modelValue:e.selectedModeId,"onUpdate:modelValue":r[0]||(r[0]=function(r){return e.selectedModeId=r}),options:e.roleOptions},null,8,["modelValue","options"])]),(0,t._)("div",z,[(0,t._)("p",I,[(0,t.Uk)("人數："),(0,t._)("span",O,(0,B.zw)(e.countChecked),1),e.countChecked>20?((0,t.wg)(),(0,t.iD)("span",T,"(人數已達上限20人)")):(0,t.kq)("",!0)])])]),(0,t._)("div",null,[(0,t._)("p",{class:"mb-0 text-end cursor fw-bold",onClick:r[1]||(r[1]=function(){return e.setAllStatus&&e.setAllStatus.apply(e,arguments)})},[(0,t._)("i",{class:(0,B.C_)(["mr-12",e.allStatusStyle])},null,2),(0,t.Uk)("全選")])])]),(0,t._)("div",U,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.groupedRoles,(function(r,o){return(0,t.wg)(),(0,t.j4)(c,{class:"group-card-panel",data:r,index:o,onSetGroupStatus:e.setGroupStatus,onSetSingleStatus:e.setSingleStatus},null,8,["data","index","onSetGroupStatus","onSetSingleStatus"])})),256))]),(0,t._)("div",E,[(0,t._)("div",{class:"button-style cursor fw-bold",onClick:r[2]||(r[2]=function(){return e.submitSetting&&e.submitSetting.apply(e,arguments)})},"Game Start")])])}o(886),o(278),o(8077),o(4338),o(9730),o(5728),o(6801),o(3843),o(9693),o(7522);const N=JSON.parse('[{"key":"bluePresident","role":"President","color":"blue","label":"總統","desc":"最後不與炸彈客在同一個房間","pair":1,"src":"pic/role/blue-president.png"},{"key":"redBoomer","role":"Boomer","color":"red","label":"炸彈客","desc":"最後與總統在同一個房間","pair":1,"src":"pic/role/red-boomer.png"},{"key":"blueDoctor","role":"Doctor","color":"blue","label":"醫生","desc":"遊戲結束前與總統分享卡片","pair":2,"src":"pic/role/blue-doctor.png"},{"key":"redEngineer","role":"Engineer","color":"red","label":"工程師","desc":"遊戲結束前與炸彈客分享卡片","pair":2,"src":"pic/role/red-engineer.png"},{"key":"blueTuesdayKnight","role":"TuesdayKnight","color":"blue","label":"星期二騎士","desc":"跟炸彈客分享卡片，藍隊直接獲勝","pair":3,"src":"pic/role/blue-tuesdayknight.png"},{"key":"redDr.Boom","role":"Dr.Boom","color":"red","label":"砰砰博士","desc":"跟總統分享卡片，紅隊直接獲勝","pair":3,"src":"pic/role/red-drboom.png"},{"key":"blueEnforcer","role":"Enforcer","color":"blue","label":"執法者","desc":"強制兩位玩家交換卡片","pair":4,"src":"pic/role/blue-enforcer.png"},{"key":"redEnforcer","role":"Enforcer","color":"red","label":"執法者","desc":"強制兩位玩家交換卡片","pair":4,"src":"pic/role/red-enforcer.png"},{"key":"blueMayor","role":"Mayor","color":"blue","label":"市長","desc":"公開後，一票值兩票","pair":5,"src":"pic/role/blue-mayor.png"},{"key":"redMayor","role":"Mayor","color":"red","label":"市長","desc":"公開後，一票值兩票","pair":5,"src":"pic/role/red-mayor.png"},{"key":"blueCoyboy","role":"Coyboy","color":"blue","label":"靦腆少年","desc":"你只能執行分享顏色","pair":6,"src":"pic/role/blue-coyboy.png"},{"key":"redCoyboy","role":"Coyboy","color":"red","label":"靦腆少年","desc":"你只能執行分享顏色","pair":6,"src":"pic/role/red-coyboy.png"},{"key":"bluePapanoid","role":"Papanoid","color":"blue","label":"妄想者","desc":"五個回合內只能執行一次卡片分享","pair":7,"src":"pic/role/blue-papanoid.png"},{"key":"redPapanoid","role":"Papanoid","color":"red","label":"妄想者","desc":"五個回合內只能執行一次卡片分享","pair":7,"src":"pic/role/red-papanoid.png"},{"key":"blueSpy","role":"Spy","color":"blue","label":"藍隊間諜","desc":"卡片顏色與隊伍相反","pair":8,"src":"pic/role/blue-spy.png"},{"key":"redSpy","role":"Spy","color":"red","label":"紅隊間諜","desc":"卡片顏色與隊伍相反","pair":8,"src":"pic/role/red-spy.png"},{"key":"blueUsurper","role":"Usurper","color":"blue","label":"篡位者","desc":"在前四回合中，室長篡位一次","pair":9,"src":"pic/role/blue-usurper.png"},{"key":"redUsurper","role":"Usurper","color":"red","label":"篡位者","desc":"在前四回合中，室長篡位一次","pair":9,"src":"pic/role/red-usurper.png"},{"key":"blueSecurity","role":"Security","color":"blue","label":"保安","desc":"可以扣留一名房間成員不作為人質","pair":10,"src":"pic/role/blue-security.png"},{"key":"redSecurity","role":"Security","color":"red","label":"保安","desc":"可以扣留一名房間成員不作為人質","pair":10,"src":"pic/role/red-security.png"},{"key":"blueEris","role":"Eris","color":"blue","label":"紛爭女神厄里斯","desc":"你可以使任兩名玩家進入相愛狀態","pair":11,"src":"pic/role/blue-eris.png"},{"key":"redCupid","role":"Cupid","color":"red","label":"愛神丘比特","desc":"你可以使任兩名玩家進入相恨狀態","pair":11,"src":"pic/role/red-cupid.png"},{"key":"greyRival","role":"Rival","color":"grey","label":"競爭者","desc":"最後與總統在不同房間","pair":12,"src":"pic/role/grey-rival.png"},{"key":"greyIntern","role":"Intern","color":"grey","label":"實習生","desc":"最後與總統在同個房間","pair":12,"src":"pic/role/grey-intern.png"},{"key":"greyButler","role":"Butler","color":"grey","label":"管家","desc":"最後與女僕和總統在同一個房間","pair":13,"src":"pic/role/grey-butler.png"},{"key":"greyMaid","role":"Maid","color":"grey","label":"女僕","desc":"最後與管家和總統在同一個房間","pair":13,"src":"pic/role/grey-maid.png"},{"key":"greyWife","role":"Wife","color":"grey","label":"妻子","desc":"最後和總統待在一起，避開情婦","pair":14,"src":"pic/role/grey-wife.png"},{"key":"greyMistress","role":"Mistress","color":"grey","label":"情婦","desc":"最後和總統待在一起，避開妻子","pair":14,"src":"pic/role/grey-mistress.png"},{"key":"greySurvivor","role":"Survivor","color":"grey","label":"倖存者","desc":"最後與炸彈客在不同房間","pair":15,"src":"pic/role/grey-survivor.png"},{"key":"greyVictim","role":"Victim","color":"grey","label":"受害者","desc":"最後與炸彈客在同個房間","pair":15,"src":"pic/role/grey-victim.png"},{"key":"greyRomeo","role":"Romeo","color":"grey","label":"羅密歐","desc":"最後與茱麗葉和炸彈客在同一個房間","pair":16,"src":"pic/role/grey-romeo.png"},{"key":"greyJuliet","role":"Juliet","color":"grey","label":"茱麗葉","desc":"最後與羅密歐和炸彈客在同一個房間","pair":16,"src":"pic/role/grey-juliet.png"},{"key":"greyAhab","role":"Ahab","color":"grey","label":"亞哈","desc":"最後同時避開莫比與炸彈客","pair":17,"src":"pic/role/grey-ahab.png"},{"key":"greyMoby","role":"Moby","color":"grey","label":"莫比","desc":"最後同時避開亞哈與炸彈客","pair":17,"src":"pic/role/grey-moby.png"},{"key":"greyBomb-Bot","role":"Bomb-Bot","color":"grey","label":"拆彈機器人","desc":"最後和炸彈客待在一起，避開總統","pair":18,"src":"pic/role/grey-bomb-bot.png"},{"key":"greyQueen","role":"Queen","color":"grey","label":"皇后","desc":"最後同時避開總統與炸彈客","pair":18,"src":"pic/role/grey-queen.png"},{"key":"greyDecoy","role":"Decoy","color":"grey","label":"誘餌","desc":"被狙擊手打中","pair":19,"src":"pic/role/grey-decoy.png"},{"key":"greyTarget","role":"Target","color":"grey","label":"目標","desc":"不要被狙擊手打中","pair":19,"src":"pic/role/grey-target.png"},{"key":"greySniper","role":"Sniper","color":"grey","label":"狙擊手","desc":"打中目標","pair":19,"src":"pic/role/grey-sniper.png"},{"key":"greyGambler","role":"Gambler","color":"grey","label":"賭徒","desc":"公開預判哪個顏色獲勝","pair":20,"src":"pic/role/grey-gambler.png"}]');var Y=["onClick"],K={class:"mr-12"},L={class:"d-flex justify-content-between flex-grow-1"},V={class:"mb-0 pole-style w-50 text-start"};function J(e,r,o,n,a,l){return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("p",{class:"text-start title-style cursor",onClick:r[0]||(r[0]=function(r){return e.setGroupStatus()})},[(0,t._)("i",{class:(0,B.C_)(["mr-12",e.groupedStatusStyle])},null,2),(0,t.Uk)("角色-zone "+(0,B.zw)(e.index+1),1)]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.data,(function(r){return(0,t.wg)(),(0,t.iD)("div",{class:"d-flex roles-style cursor",onClick:function(o){return e.setSingleStatus(r.pair)}},[(0,t._)("div",K,[(0,t._)("i",{class:(0,B.C_)(["bi",e.setSingleCheckColor(r.checked,r.required)])},null,2)]),(0,t._)("div",L,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(null===r||void 0===r?void 0:r.roles,(function(r){return(0,t.wg)(),(0,t.iD)("p",V,[(0,t._)("i",{class:"bi mr-12 bi-person-badge icon-color",style:(0,B.j5)(e.SetTeamColor(r.color))},null,4),(0,t.Uk)((0,B.zw)(r.label),1)])})),256))])],8,Y)})),256))])}o(9288);const Q=JSON.parse('[{"label":"blue","color":"#5595D5","colorDark":"1d3a5d"},{"label":"red","color":"#CC333C","colorDark":"#401618"},{"label":"grey","color":"#808080","colorDark":"#4c4c4c"}]'),X=(0,t.aZ)({name:"GroupCardPanel",props:{data:{type:Array,default:function(){return[]}},index:{type:Number}},setup:function(e,r){var o=r.emit,n=Q,a=(0,t.Fl)((function(){var r;return null===(r=e.data)||void 0===r?void 0:r.length})),l=(0,t.Fl)((function(){var r;return null===(r=e.data.filter((function(e){return e.checked})))||void 0===r?void 0:r.length})),i=(0,t.Fl)((function(){return l.value==a.value?"bi bi-check-square-fill fill-color":l.value>0?"bi bi-dash-square":"bi bi-square"}));function c(e){var r,o=null===(r=n.find((function(r){return r.label==e})))||void 0===r?void 0:r.color;return{"--color":o}}function u(e,r){return r?"bi-check-square-fill checked-disable-color":e?"bi-check-square-fill fill-color":"bi-square"}function s(){var r=a.value!=l.value;o("setGroupStatus",e.index,r)}function d(e){o("setSingleStatus",e)}return{SetTeamColor:c,groupedStatusStyle:i,setSingleStatus:d,setGroupStatus:s,setSingleCheckColor:u}}}),$=(0,l.Z)(X,[["render",J],["__scopeId","data-v-cd90e55a"]]),ee=$,re=JSON.parse('[{"key":0,"name":"normal","label":"一般","route":"normal","required":["bluePresident","redBoomer","blueDoctor","redEngineer"],"options":["blueTuesdayKnight","redDr.Boom","blueEnforcer","redEnforcer","blueSpy","redSpy","blueCoyboy","redCoyboy","bluePapanoid","redPapanoid","blueMayor","redMayor","blueUsurper","redUsurper","blueSecurity","redSecurity","greyGambler"]},{"key":1,"name":"Love And Hate","route":"love-and-hate","label":"愛恨","required":["bluePresident","redBoomer","blueEris","redCupid"],"options":["greyRival","greyIntern","greySurvivor","greyVictim","greyRomeo","greyJuliet","greyButler","greyMaid","greyAhab","greyMoby","greyWife","greyMistress","greyBomb-Bot","greyQueen","greyDecoy","greyTarget","greySniper"]}]');var oe=o(9034);const ne=(0,t.aZ)({name:"SettingPanel",components:{BFormSelect:oe.KB,BFormCheckboxGroup:oe.x0,BFormCheckbox:oe.lD,BFormGroup:oe.xH,GroupCardPanel:ee},setup:function(e,r){var o=r.emit,n=re.map((function(e){return{value:e.key,text:e.label}})),a=(0,S.iH)(n[0].value),l=(0,S.iH)([]),i=(0,t.Fl)((function(){return l.value.reduce((function(e,r){return r.checked?e+r.roles.length:e}),0)})),c=(0,t.Fl)((function(){return l.value.filter((function(e){return e.checked}))})),u=(0,t.Fl)((function(){return d(l.value,4)}));function s(e,r){var o="required"==r,n=p(e,r),t=g(n);return f(t,o)}function d(e,r){for(var o=[],n=0;n<e.length;n+=r)o.push(e.slice(n,n+r));return o}function p(e,r){var o=[],n=re.find((function(r){return r.key===e}));return n&&(o=n[r]),o}function g(e){var r=N.filter((function(r){return e.includes(r.key)}));return r}function f(e,r){return e.reduce((function(e,o){var n=e.find((function(e){return e.pair==o.pair}));return n?n.roles.push(o):e.push({pair:o.pair,required:r,roles:[o],checked:r}),e}),[])}(0,t.YP)(a,(function(e){var r=s(e,"required"),o=s(e,"options");l.value=r.concat(o)}),{immediate:!0});var v=(0,t.Fl)((function(){return l.value.reduce((function(e,r){return e+r.roles.length}),0)})),b=(0,t.Fl)((function(){return v.value==i.value?"bi bi-check-square-fill fill-color":i.value>0?"bi bi-dash-square":"bi bi-square"}));function y(){var e=v.value!=i.value;l.value.forEach((function(r){r.required||(r.checked=e)}))}function m(e,r){for(var o=4*e;o<4*e+4;o++)if(o<l.value.length){var n=l.value[o];n.required||(n.checked=r)}}function h(e){var r=l.value.find((function(r){return r.pair==e}));r&&!r.required&&(r.checked=!r.checked)}function w(){var e=re[a.value],r={roles:c.value,mode:a.value,count:i.value};i.value>20?o("alert"):(console.log("son",r),console.log("son",e),o("submit",{setting:r,gameMode:e}))}return{roleOptions:n,submitSetting:w,selectedModeId:a,groupedRoles:u,countChecked:i,setSingleStatus:h,setGroupStatus:m,setAllStatus:y,allStatusStyle:b}}}),te=(0,l.Z)(ne,[["render",W]]),ae=te;var le={class:"banner-wrap w-100 p-2"},ie=(0,t._)("p",{class:"footer-text text-end"},"Copyright © 2023 by Paulina Tong and Kami Liu. ",-1),ce=(0,t._)("p",{class:"text-end footer-text"},"All rights reserved.",-1),ue=[ie,ce];function se(e,r,o,n,a,l){return(0,t.wg)(),(0,t.iD)("div",le,ue)}const de=(0,t.aZ)({name:"FooterCopyright"}),pe=(0,l.Z)(de,[["render",se]]),ge=pe;var fe=function(e){return(0,t.dD)("data-v-179e3a84"),e=e(),(0,t.Cn)(),e},ve=fe((function(){return(0,t._)("i",{class:"d-block text-center bi bi-exclamation-octagon-fill fs-48 icon-color"},null,-1)})),be=fe((function(){return(0,t._)("p",{class:"mb-0 text-center"},"角色人數已達系統上限20人。",-1)})),ye=fe((function(){return(0,t._)("p",{class:"mb-0 text-center"},"請取消不需要的角色後，再開始遊戲。",-1)}));function me(e,r,o,n,a,l){var i=(0,t.up)("BModal");return(0,t.wg)(),(0,t.j4)(i,{modelValue:e.showLoc,"onUpdate:modelValue":r[1]||(r[1]=function(r){return e.showLoc=r}),"hide-footer":"","hide-header":"",centered:"",modalClass:"backdrop-blur","content-class":"p-6 position-relative"},{default:(0,t.w5)((function(){return[(0,t._)("i",{class:"bi bi-x-lg close-icon position-absolute cursor",onClick:r[0]||(r[0]=function(){return e.closeModal&&e.closeModal.apply(e,arguments)})}),ve,be,ye]})),_:1},8,["modelValue"])}const he=(0,t.aZ)({name:"CustomAlert",props:{show:{type:Boolean,default:!1}},components:{BModal:oe.Nk},setup:function(e,r){var o=r.emit,n=(0,t.Fl)({get:function(){return e.show},set:function(e){return o("update:show",e)}});function a(){o("update:modalShow",!1),n.value=!n.value,console.log(n.value)}return{showLoc:n,closeModal:a}}}),we=(0,l.Z)(he,[["render",me],["__scopeId","data-v-179e3a84"]]),Se=we;var ke=o(7130),_e=o(7795),Ce={apiKey:"AIzaSyBHp26f19oLRaUxxi6LT58L6DG5c9iD3Mg",authDomain:"r2b1-1210a.firebaseapp.com",databaseURL:"https://r2b1-1210a-default-rtdb.firebaseio.com",projectId:"r2b1-1210a",storageBucket:"r2b1-1210a.appspot.com",messagingSenderId:"224778109728",appId:"1:224778109728:web:bfd3880e35e975d60ccd45",measurementId:"G-5QC4G2Q2EN"},xe=(0,_e.ZF)(Ce);const De=xe;var Re=o(5743),Ze=o.n(Re),Me=o(922),je=o.n(Me),Be=o(9311),Ge=o.n(Be),Ae=o(927),qe=o.n(Ae);o(5874);Ze().extend(je()),Ze().extend(Ge()),Ze().extend(qe()),Ze().locale("zh-tw"),Ze().tz.setDefault("Asia/Taipei");const He=Ze(),Pe=(0,t.aZ)({name:"GameSetting",components:{FooterCopyright:ge,SettingPanel:ae,CustomAlert:Se,MainHeader:j},setup:function(){var e=He.tz(new Date).format("YYYY-MM-DD"),r=(0,s.tv)(),o=(0,k.oR)();function n(e){var n=e.setting,t=e.gameMode;console.log("son",n),console.log("son",t),o.dispatch("updateGameSetting",n),c(n),r.push({path:"/game/".concat(t.route)})}var t=(0,S.iH)(!1);function a(){t.value=!0}var l=(0,ke.N8)(De),i=(0,ke.iH)(l,e);function c(e){(0,ke.VF)(i,e).then((function(){console.log("Data saved successfully!")}))["catch"]((function(e){console.error("Failed to save data",e)}))}return{modalShow:t,submitSetting:n,popUpAlertModal:a}}}),Fe=(0,l.Z)(Pe,[["render",w],["__scopeId","data-v-2bda1575"]]),ze=Fe;var Ie=function(e,r,o,n){var t,a=arguments.length,l=a<3?r:null===n?n=Object.getOwnPropertyDescriptor(r,o):n;if("object"===("undefined"===typeof Reflect?"undefined":(0,y.Z)(Reflect))&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,r,o,n);else for(var i=e.length-1;i>=0;i--)(t=e[i])&&(l=(a<3?t(l):a>3?t(r,o,l):t(r,o))||l);return a>3&&l&&Object.defineProperty(r,o,l),l},Oe=function(e){(0,v.Z)(o,e);var r=(0,b.Z)(o);function o(){return(0,f.Z)(this,o),r.apply(this,arguments)}return(0,g.Z)(o)}(m.w3);Oe=Ie([(0,m.Ei)({components:{GameSetting:ze}})],Oe);const Te=Oe,Ue=(0,l.Z)(Te,[["render",p],["__scopeId","data-v-10f156c6"]]),Ee=Ue;function We(e,r,o,n,a,l){var i=(0,t.up)("LayoutContainer");return(0,t.wg)(),(0,t.j4)(i,{data:e.groupedChar,config:e.config},null,8,["data","config"])}var Ne=o(9584),Ye=(o(7550),o(4564),o(385),{class:"wrap position-relative"}),Ke={class:"d-flex h-100"};function Le(e,r,o,n,a,l){var i=(0,t.up)("NavigationSidebar"),c=(0,t.up)("GameConfigurationSection");return(0,t.wg)(),(0,t.iD)("div",Ye,[(0,t._)("div",Ke,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.data,(function(r,o){return(0,t.wg)(),(0,t.j4)(i,{class:"pannel-wrap",data:r.value,cardWidth:e.cardWidth},null,8,["data","cardWidth"])})),256))]),(0,t.Wm)(c,{class:"position-absolute config-wrap",configBgc:e.config.configBgc},null,8,["configBgc"])])}var Ve={class:"char-panel"};function Je(e,r,o,n,a,l){var i=(0,t.up)("CardSection");return(0,t.wg)(),(0,t.iD)("div",Ve,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.data,(function(r,o){return(0,t.wg)(),(0,t.j4)(i,{class:"card-section-wrap",data:r,cardWidth:e.cardWidth},null,8,["data","cardWidth"])})),256))])}var Qe={class:"w-100 d-flex justify-content-center"},Xe={class:"ver-text card-title m-0"},$e={class:"h-100 d-flex flex-column"},er={key:0,class:"text-center"},rr={class:"ver-text card-title m-0"};function or(e,r,o,n,a,l){return(0,t.wg)(),(0,t.iD)("div",Qe,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.RoleArray,(function(r){return(0,t.wg)(),(0,t.iD)("div",{class:"d-flex justify-content-center flex-grow-1 team-wrap",style:(0,B.j5)([{"background-color":r.color}])},[r.groupedRoles.single?((0,t.wg)(!0),(0,t.iD)(t.HY,{key:0},(0,t.Ko)(r.groupedRoles.single,(function(r){return(0,t.wg)(),(0,t.iD)("div",{class:(0,B.C_)(["card-wrap card-background card-padding card-full-height d-flex justify-content-center",r.color]),style:(0,B.j5)(e.generateStyle(r))},[(0,t._)("p",Xe,(0,B.zw)(r.label),1),(0,t._)("p",{class:(0,B.C_)(["ver-text card-desc m-0",r.color])},(0,B.zw)(r.desc),3)],6)})),256)):(0,t.kq)("",!0),r.groupedRoles.pair?((0,t.wg)(!0),(0,t.iD)(t.HY,{key:1},(0,t.Ko)(r.groupedRoles.pair,(function(r){return(0,t.wg)(),(0,t.iD)("div",$e,[r.icon?((0,t.wg)(),(0,t.iD)("div",er,[(0,t._)("i",{class:(0,B.C_)(["bi",[r.color,"bi-".concat(r.icon)]])},null,2)])):(0,t.kq)("",!0),(0,t._)("div",{class:(0,B.C_)(["d-flex",[r.icon?"h--30":"h-100"]])},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(r.card,(function(r){return(0,t.wg)(),(0,t.iD)("div",{class:(0,B.C_)(["card-wrap card-background card-padding d-flex justify-content-center",r.color]),style:(0,B.j5)(e.generateStyle(r))},[(0,t._)("p",rr,(0,B.zw)(r.label),1),(0,t._)("p",{class:(0,B.C_)(["ver-text card-desc m-0",r.color])},(0,B.zw)(r.desc),3)],6)})),256))],2)])})),256)):(0,t.kq)("",!0)],4)})),256))])}o(8932),o(2826);const nr=JSON.parse('[{"pair":12,"icon":"person-bounding-box","color":"blue"},{"pair":15,"icon":"person-bounding-box","color":"red"},{"pair":13,"icon":"heart-fill","color":"blue"},{"pair":16,"icon":"heart-fill","color":"red"},{"pair":17,"icon":"signpost-split-fill","color":"red"},{"pair":14,"icon":"signpost-split-fill","color":"blue"},{"pair":19,"icon":"recycle","color":"grey"}]');var tr=o(4806),ar=o.n(tr);const lr=(0,t.aZ)({name:"CardSection",props:{data:{type:Array,required:!0},cardWidth:{type:Number,default:100}},setup:function(e){var r=(0,t.Fl)((function(){return o(e.data)}));function o(e){var r=n(e);return r.map((function(e){return a(e)}))}function n(e){return e.reduce((function(e,r){var o=e.find((function(e){return e.team===r.color}));return o||(o={team:r.color,color:i(r.color),roles:[],groupedRoles:{single:[],pair:[]}},e.push(o)),o.roles.push(r),e}),[])}function a(e){var r=ar().countBy(e.roles,"pair");return ar().forEach(r,(function(r,o){var n;if(1===r)(n=e.groupedRoles.single).push.apply(n,(0,Ne.Z)(e.roles.filter((function(e){return e.pair===+o}))));else if(r>1){var t=nr.find((function(e){return e.pair.toString()==o})),a={color:null===t||void 0===t?void 0:t.color,icon:null===t||void 0===t?void 0:t.icon,card:e.roles.filter((function(e){return e.pair===+o}))};e.groupedRoles.pair.push(a)}})),e}function l(e){return nr[e]}function i(e){var r;return(null===(r=Q.find((function(r){return r.label===e})))||void 0===r?void 0:r.color)||"fff"}function c(r){return{"background-image":"url(./".concat(r.src,")"),width:"".concat(Math.round(e.cardWidth),"px")}}return{RoleArray:r,findIcon:l,generateStyle:c}}}),ir=(0,l.Z)(lr,[["render",or],["__scopeId","data-v-73dd5ae6"]]),cr=ir,ur=(0,t.aZ)({name:"NavigationSidebar",components:{CardSection:cr},props:{data:{type:Array,required:!0},cardWidth:{type:Number,default:100}},setup:function(e){e.data}}),sr=(0,l.Z)(ur,[["render",Je],["__scopeId","data-v-0010ab68"]]),dr=sr;o(4284);var pr=function(e){return(0,t.dD)("data-v-11b9a002"),e=e(),(0,t.Cn)(),e},gr={class:"position-relative configuration-wrap"},fr={class:"position-absolute ver-wrap d-flex flex-column"},vr={class:"w-100 d-flex justify-content-center bi-number-style-wrap pb-50 h-50 align-items-center"},br={class:"text-center"},yr={class:"d-flex align-items-center"},mr={class:"title-style"},hr={class:"subtitle-style rb-fz"},wr=pr((function(){return(0,t._)("div",{class:"subtitle-style rb-fz"},"ROUND",-1)})),Sr={class:"number-style-wrap icon-text-style mt-1"},kr=["onClick"],_r={class:"w-100 pt-50 h-50 d-flex justify-content-center align-items-center"},Cr={class:"px-6"},xr={class:"text-start icon-text-style"},Dr=pr((function(){return(0,t._)("span",{class:"d-block"},"請室長在1分鐘內",-1)})),Rr={class:"d-block"},Zr={class:"fw-bold"},Mr={class:"hostage-icon-container"},jr={class:"bi bi-person-walking"},Br=pr((function(){return(0,t._)("i",{class:"bi bi-door-open door"},null,-1)})),Gr={class:"position-absolute ho-wrap d-flex"},Ar=pr((function(){return(0,t._)("div",{class:"mx-auto pic-wrap py-8px"},[(0,t._)("img",{class:"d-block",src:_})],-1)})),qr=[Ar],Hr={class:"player-style rb-fz text-center"},Pr=pr((function(){return(0,t._)("span",{class:"ml-2"},"Players",-1)}));function Fr(e,r,o,n,a,l){var i=(0,t.up)("CountdownTimer");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",gr,[(0,t.Wm)(i,{class:"position-absolute timer-wrap",gameRound:e.gameRound,onAddGameRound:e.addGameRound},null,8,["gameRound","onAddGameRound"]),(0,t._)("div",fr,[(0,t._)("div",vr,[(0,t._)("div",br,[(0,t._)("div",yr,[(0,t._)("div",mr,(0,B.zw)(e.gameMode.label)+"局",1),(0,t._)("i",{class:"d-block bi bi-pencil-square pencil-icon cursor",onClick:r[0]||(r[0]=function(){return e.returnSetting&&e.returnSetting.apply(e,arguments)})})]),(0,t._)("div",hr,(0,B.zw)(e.gameMode.name.toUpperCase()),1),wr,(0,t._)("div",Sr,[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(5,(function(r){return(0,t._)("i",{class:(0,B.C_)(["bi bi-number-style cursor",r==e.gameRound+1?"bi-".concat(r,"-circle-fill"):"bi-".concat(r,"-circle")]),onClick:function(o){return e.changeGameRound(r)}},null,10,kr)})),64))])])]),(0,t._)("div",_r,[(0,t._)("div",Cr,[(0,t._)("p",xr,[(0,t.Uk)("討論時間結束後"),Dr,(0,t._)("span",Rr,[(0,t.Uk)("選出 "),(0,t._)("span",Zr,(0,B.zw)(e.quantity),1),(0,t.Uk)(" 位人質")])]),(0,t._)("div",Mr,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.quantity,(function(e){return(0,t.wg)(),(0,t.iD)("i",jr)})),256)),Br])])])]),(0,t._)("div",Gr,[(0,t._)("div",{class:"w-50 pr-25 d-flex justify-content-center",style:(0,B.j5)({"background-color":e.configBgc[0]})},qr,4),(0,t._)("div",{class:"w-50 pl-25",style:(0,B.j5)({"background-color":e.configBgc[1]})},[(0,t._)("p",Hr,[(0,t.Uk)((0,B.zw)(e.playerCount),1),Pr])],4)])])])}var zr=function(e){return(0,t.dD)("data-v-1a5a970d"),e=e(),(0,t.Cn)(),e},Ir={class:"position-relative boom-style"},Or={class:"boom-wrap d-flex justify-content-center align-items-center"},Tr={class:"boom-inner-warp d-flex justify-content-center align-items-center"},Ur={class:"text-center"},Er={class:"rb-fz fz-6 mb-12"},Wr=zr((function(){return(0,t._)("p",{class:"fz-5 mb-12"},"討論時間",-1)})),Nr={class:"timer-banner mb-12"},Yr={class:"mb-0 fz-15 clock-fz"};function Kr(e,r,o,n,a,l){return(0,t.wg)(),(0,t.iD)("div",Ir,[(0,t._)("div",Or,[(0,t._)("div",Tr,[(0,t._)("div",Ur,[(0,t._)("p",Er,"ROUND "+(0,B.zw)(e.gameRound+1),1),Wr,(0,t._)("div",Nr,[(0,t._)("p",Yr,(0,B.zw)(e.formattedTime),1)]),(0,t._)("div",{class:"play-wrap cursor",onClick:r[0]||(r[0]=function(){return e.toggleCountdown&&e.toggleCountdown.apply(e,arguments)})},[(0,t._)("i",{class:(0,B.C_)(["bi",e.btnIsActive?"bi-pause-circle-fill":"bi-play-circle-fill"])},null,2)])])])])])}o(6869),o(8472);var Lr=[{key:"START",icon:"bi-alarm"},{key:"PAUSE",icon:"bi-play-circle"},{key:"CONTINUE",icon:"bi-play-circle-fill"}];const Vr=(0,t.aZ)({name:"CountdownTimer",components:{},props:{gameRound:{type:Number,default:0}},setup:function(e,r){var o=r.emit,n=5,a=1,l=60*n/a,i=(0,S.iH)(l),c=(0,S.iH)({icon:Lr[1].icon,key:Lr[1].key}),u=(0,S.iH)(!1),s=new Audio("/bgm.mp3"),d=void 0;function p(){u.value=!u.value,u.value?(y(),m()):(f(),h())}function g(){clearInterval(d),d=void 0}function f(){void 0!==d&&g()}function v(){s.currentTime=0,s.pause()}function b(){i.value=l,u.value=!1}function y(){void 0==d&&(d=setInterval((function(){i.value>0?i.value--:(g(),b(),o("addGameRound"))}),1e3*a))}function m(){s.play()}function h(){s.pause()}(0,t.YP)((function(){return e.gameRound}),(function(){g(),b(),v()}));var w=(0,t.Fl)((function(){var e=Math.floor(i.value*a/60).toString().padStart(2,"0"),r=Math.floor(i.value*a%60).toString().padStart(2,"0");return"".concat(e," : ").concat(r)}));return(0,t.Jd)((function(){v()})),{timeDuration:i,formattedTime:w,toggleCountdown:p,timeStatus:c,btnIsActive:u}}}),Jr=(0,l.Z)(Vr,[["render",Kr],["__scopeId","data-v-1a5a970d"]]),Qr=Jr,Xr=[3,2,2,1,1],$r=(0,t.aZ)({name:"GameConfigurationSection",props:{configBgc:{type:Array,default:function(){return["#942121","#3C55A5"]}}},components:{CountdownTimer:Qr},setup:function(){var e=(0,k.oR)(),r=(0,s.tv)(),o=(0,S.iH)(0),n=(0,t.Fl)((function(){return Xr[o.value]})),a=e.state.gameSetting.count,l=(0,t.Fl)((function(){var r,o=(null===(r=e.state.gameSetting)||void 0===r?void 0:r.mode)||0,n=re[o],t=n.name,a=n.label;return{name:t,label:a}}));function i(e){o.value=e-1}function c(e){o.value<4&&o.value++}function u(){r.push({name:"home"})}return{playerCount:a,gameMode:l,quantity:n,gameRound:o,returnSetting:u,changeGameRound:i,addGameRound:c}}}),eo=(0,l.Z)($r,[["render",Fr],["__scopeId","data-v-11b9a002"]]),ro=eo,oo=(0,t.aZ)({name:"LayoutContainer",components:{GameConfigurationSection:ro,NavigationSidebar:dr},props:{data:{type:Array,required:!0},config:{type:Object,required:!0}},setup:function(e){e.data;var r=e.config,o=(0,S.iH)(window.innerWidth);console.log(r.configBgc);var n=(0,t.Fl)((function(){var e=o.value>1280?48:12,n=2*r.space;return((o.value-200)/2-e*n*2)/r.maxCardCount})),a=function(){o.value=window.innerWidth,console.log(n.value)};return(0,t.bv)((function(){window.addEventListener("resize",a)})),(0,t.Jd)((function(){window.removeEventListener("resize",a)})),{cardWidth:n}}}),no=(0,l.Z)(oo,[["render",Le],["__scopeId","data-v-ba6f5f64"]]),to=no,ao=(0,t.aZ)({name:"GameDashboard",components:{LayoutContainer:to},setup:function(){var e=(0,k.oR)(),r=(0,s.tv)(),o=5;(0,t.YP)(e.state.gameSetting,(function(e){ar().isEmpty(e)&&r.push({name:"home"})}),{immediate:!0});var n=(0,S.iH)([]),a=(0,S.iH)([]),l=(0,t.Fl)((function(){var r,o=null===(r=e.state.gameSetting)||void 0===r?void 0:r.roles;return o?u(o):[[],[]]})),i=(0,t.Fl)((function(){var r;return null!==(r=e.state.gameSetting)&&void 0!==r&&null!==(r=r.roles)&&void 0!==r&&r.some((function(e){return"grey"===e.color}))?2:1}));function c(e,r){return ar().flatMap(e,(function(e){return ar().filter(e.roles,{color:r})}))}function u(e){var r=c(e,"blue"),o=c(e,"red"),t=c(e,"grey"),l=(null===r||void 0===r?void 0:r.length)+(null===t||void 0===t?void 0:t.length)-10;if(l>0){var i=10-r.length||0;n.value=d([].concat((0,Ne.Z)(o),(0,Ne.Z)(t.slice(0).slice(i,100)))),a.value=d([].concat((0,Ne.Z)(r),(0,Ne.Z)(t.slice(0).slice(0,i))))}else n.value=d((0,Ne.Z)(o)),a.value=d([].concat((0,Ne.Z)(r),(0,Ne.Z)(t)));return[n,a]}function d(e){return e?[e.slice(0,o),e.slice(o,1e3)]:[[],[]]}console.log(e.state);var p={space:i.value,maxCardCount:o};return{config:p,groupedChar:l}}}),lo=(0,l.Z)(ao,[["render",We]]),io=lo;function co(e,r,o,n,a,l){var i=(0,t.up)("LayoutContainer");return(0,t.wg)(),(0,t.j4)(i,{data:e.groupedChar,config:e.config},null,8,["data","config"])}var uo=o(6084);o(5137);const so=(0,t.aZ)({name:"GameDashboard",components:{LayoutContainer:to},setup:function(){var e=(0,k.oR)(),r=(0,s.tv)(),o=6;(0,t.YP)(e.state.gameSetting,(function(e){ar().isEmpty(e)&&r.push({name:"home"})}),{immediate:!0});var n=(0,S.iH)([]),a=(0,S.iH)([]),l=(0,t.Fl)((function(){var r,o=null===(r=e.state.gameSetting)||void 0===r?void 0:r.roles;return o?i(o):[[],[]]}));function i(e){var r=function(r){return ar().flatMap(e,(function(e){return ar().filter(e.roles,{color:r})}))},o=r("blue"),t=r("red"),l=ar().flatMap(e,(function(e){return ar().filter(e.roles,{color:"grey"})})).sort((function(e,r){return e.pair-r.pair})),i=ar().partition(l,(function(e){return[18,19].includes(e.pair)})),c=(0,uo.Z)(i,2),u=c[0],s=c[1],d=[].concat((0,Ne.Z)(t),(0,Ne.Z)(o)),p=ar().partition(s,(function(e){return[12,13,14].includes(e.pair)})),g=(0,uo.Z)(p,2),f=g[0],v=g[1],b=u;return n.value=[d,b],a.value=[f,v],[n,a]}var c={space:1,maxCardCount:o,configBgc:["#636564","#636564"]};return{config:c,groupedChar:l}}}),po=(0,l.Z)(so,[["render",co],["__scopeId","data-v-a622419c"]]),go=po;var fo=[{path:"/",name:"home",component:Ee},{path:"/game/normal",name:"gameNormal",component:io},{path:"/game/love-and-hate",name:"LoveAndHate",component:go}],vo=(0,s.p7)({history:(0,s.r5)(),routes:fo});const bo=vo,yo=(0,k.MT)({state:{gameRound:0,gameSetting:{}},mutations:{setGameSetting:function(e,r){e.gameSetting=r}},actions:{updateGameSetting:function(e,r){e.commit("setGameSetting",r)}}});(0,n.ri)(u).use(yo).use(bo).use(oe.ZP).mount("#app")}},r={};function o(n){var t=r[n];if(void 0!==t)return t.exports;var a=r[n]={id:n,loaded:!1,exports:{}};return e[n].call(a.exports,a,a.exports,o),a.loaded=!0,a.exports}o.m=e,(()=>{o.amdO={}})(),(()=>{var e=[];o.O=(r,n,t,a)=>{if(!n){var l=1/0;for(s=0;s<e.length;s++){for(var[n,t,a]=e[s],i=!0,c=0;c<n.length;c++)(!1&a||l>=a)&&Object.keys(o.O).every((e=>o.O[e](n[c])))?n.splice(c--,1):(i=!1,a<l&&(l=a));if(i){e.splice(s--,1);var u=t();void 0!==u&&(r=u)}}return r}a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[n,t,a]}})(),(()=>{o.n=e=>{var r=e&&e.__esModule?()=>e["default"]:()=>e;return o.d(r,{a:r}),r}})(),(()=>{o.d=(e,r)=>{for(var n in r)o.o(r,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})}})(),(()=>{o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r)})(),(()=>{o.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{o.p="https://kamiiliu.github.io/r21b-destop/"})(),(()=>{var e={143:0};o.O.j=r=>0===e[r];var r=(r,n)=>{var t,a,[l,i,c]=n,u=0;if(l.some((r=>0!==e[r]))){for(t in i)o.o(i,t)&&(o.m[t]=i[t]);if(c)var s=c(o)}for(r&&r(n);u<l.length;u++)a=l[u],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(s)},n=self["webpackChunkTwoRoomsAndABoom_Destop"]=self["webpackChunkTwoRoomsAndABoom_Destop"]||[];n.forEach(r.bind(null,0)),n.push=r.bind(null,n.push.bind(n))})();var n=o.O(void 0,[998],(()=>o(4829)));n=o.O(n)})();
//# sourceMappingURL=app.7968a6bb.js.map